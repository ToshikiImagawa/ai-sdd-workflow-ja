---
name: sdd-templates
description: "AI-SDDドキュメントのフォールバックテンプレートを提供します。プロジェクトに .docs/ 配下のテンプレートが存在しない場合のみ使用してください。"
allowed-tools: Read, Glob
---

# SDD Templates - AI-SDDドキュメントテンプレート（フォールバック用）

AI-SDD ワークフローで使用する各種ドキュメントのテンプレートを提供します。

## 重要: テンプレート選択の手順

**このスキルのテンプレートはフォールバック用です。必ず以下の手順に従ってください。**

### 必須の確認手順

ドキュメント生成時は、**必ず以下の順序で**テンプレートを探索してください：

```
1. プロジェクトテンプレートを確認（最優先）
   ├─ .docs/PRD_TEMPLATE.md が存在するか？
   ├─ .docs/SPECIFICATION_TEMPLATE.md が存在するか？
   └─ .docs/DESIGN_DOC_TEMPLATE.md が存在するか？
   ↓
2. プロジェクトテンプレートが存在する場合
   → そのテンプレートを使用（このスキルのテンプレートは使用しない）
   ↓
3. プロジェクトテンプレートが存在しない場合のみ
   → このスキルのテンプレートを使用してプロジェクト用テンプレートを生成
```

### テンプレート優先順位（厳守）

| 優先度            | テンプレート       | パス                  | 使用条件                   |
|:---------------|:-------------|:--------------------|:-----------------------|
| **1（最優先）**     | プロジェクトテンプレート | `.docs/*.md`        | 存在すれば必ず使用              |
| **2（フォールバック）** | プラグインテンプレート  | このスキルの `templates/` | プロジェクトテンプレートが存在しない場合のみ |

## 前提条件

**実行前に必ず `sdd-workflow-ja:sdd-workflow` エージェントの内容を読み込み、AI-SDDの原則を理解してください。**

このスキルはsdd-workflowエージェントの原則に従ったテンプレートを提供します。

## フォールバックテンプレート一覧

プロジェクトにテンプレートが存在しない場合に使用：

| テンプレート         | ファイル                                                         | 対応するプロジェクトテンプレート                  |
|:---------------|:-------------------------------------------------------------|:----------------------------------|
| **PRD（要求仕様書）** | [templates/prd_template.md](templates/prd_template.md)       | `.docs/PRD_TEMPLATE.md`           |
| **抽象仕様書**      | [templates/spec_template.md](templates/spec_template.md)     | `.docs/SPECIFICATION_TEMPLATE.md` |
| **技術設計書**      | [templates/design_template.md](templates/design_template.md) | `.docs/DESIGN_DOC_TEMPLATE.md`    |

## 使用方法

### ケース1: プロジェクトテンプレートが存在する場合

```
/generate_spec {仕様内容}

1. .docs/SPECIFICATION_TEMPLATE.md を確認
2. 存在する → そのテンプレートを使用
3. このスキルのテンプレートは参照しない
```

### ケース2: プロジェクトテンプレートが存在しない場合

```
/generate_spec {仕様内容}

1. .docs/SPECIFICATION_TEMPLATE.md を確認
2. 存在しない → このスキルのテンプレートを使用
3. プロジェクトの言語・構成に合わせてカスタマイズして生成
4. 生成後、.docs/ にプロジェクト用テンプレートとして保存を推奨
```

### プロジェクトテンプレートの初期化

プロジェクトにテンプレートがない場合、以下の手順で初期化できます：

1. このスキルのテンプレートを `.docs/` にコピー
2. プロジェクトのプログラミング言語に合わせて型定義の記法を修正
3. プロジェクトのディレクトリ構成に合わせてパスを修正
4. 以後、プロジェクトテンプレートが優先される

## テンプレートの概要

### PRD（要求仕様書）テンプレート

SysML要求図形式で以下を定義：

- 背景と目的
- ユーザ要求（UR-xxx）
- 機能要求（FR-xxx）
- 非機能要求（NFR-xxx）
- 要求図（Mermaid）
- 制約事項・前提条件

### 抽象仕様書テンプレート

システムの論理構造を定義：

- 背景・概要
- 機能要件（PRD要求IDとの対応）
- 公開API（SysML bdd形式）
- データモデル
- 振る舞い（シーケンス図）

### 技術設計書テンプレート

具体的な実装計画を定義：

- 実装ステータス
- 設計目標
- 技術スタック
- アーキテクチャ
- 設計判断と根拠

## ドキュメント間の依存関係

```mermaid
graph RL
    IMPL[実装] --> DESIGN["*_design.md<br/>(技術設計)"]
    DESIGN --> SPEC["*_spec.md<br/>(抽象仕様)"]
    SPEC --> PRD["requirement-diagram/<br/>(PRD/要求図)"]
```

各テンプレートは、この依存関係に基づいてトレーサビリティを確保するよう設計されています。

## 注意事項

- テンプレートは**構造のガイドライン**であり、すべてのセクションが必須ではありません
- プロジェクトの規模・性質に応じて必要なセクションを選択してください
- 要求ID（UR-xxx, FR-xxx, NFR-xxx）は一意に管理し、ドキュメント間で参照可能にしてください
